@model Improvar.ViewModels.RepBarHistory
@{
    ViewBag.Title = "BarCode History";
    Layout = "~/Views/Shared/_ReportLayout.cshtml";
}
@*<script src="~/Scripts/jquery.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="~/Content/bootstrap-select.css" />
    @Scripts.Render("~/Scripts/Multiple-Select-min.js")
    @Scripts.Render("~/Scripts/bootstrap-select.js")*@
<script src="~/Scripts/jquery.min.js"></script>

<script>
    $(function () {
        $("#DATEFROM").datepicker({ dateFormat: "dd/mm/yy", changeMonth: true, changeYear: true, maxDate: '@Model.maxdate' });
        $("#DATETO").datepicker({ dateFormat: "dd/mm/yy", changeMonth: true, changeYear: true, maxDate: '@Model.maxdate' });
        $("#EFFDT_NEW").datepicker({ dateFormat: "dd/mm/yy", changeMonth: true, changeYear: true, maxDate: '@Model.maxdate' });
        $("#P_EFFDT_NEW").datepicker({ dateFormat: "dd/mm/yy", changeMonth: true, changeYear: true, maxDate: '@Model.maxdate' });
    });
</script>
<script>
    $(document).ready(function () {
        if ("@Model.SHOWMTRLJOBCD" != "Y") {
            $("#divmtrljobcd").hide();
        }
        //$("#partialdivPRICE").hide();
        $("#partialdivHISTORY").hide();
        GetAllMtrljobcode();
    });
</script>
<script>
    function ShowGrid() {
        $("#exampleEWB").empty();
        $.ajax({
            type: 'post',
            url: 'ShowList',
            beforesend: $("#WaitingMode").show(),
            data: $('form').serialize(),
            success: function (result) {
                $("#WaitingMode").hide();
                $('#PartialdivEWBILL').html(result);
                $("#WaitingMode1").hide();
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                $("#WaitingMode").hide();
                alert("Status: " + textStatus); alert("Error: " + errorThrown);
                $("#WaitingMode1").hide();
            }
        });
    }
</script>
<script>
    function SelectBARCODEDetail(id, BARNO, MTRLJOBCD, PARTCD, DOCDT, TAXGRPCD, GOCD, PRCCD, ALLMTRLJOBCD, HelpFrom) {
        debugger;
        var MTRLJOBCD = document.getElementById(MTRLJOBCD.id).value;
        var PARTCD = document.getElementById(PARTCD.id).value;
        var DOCDT = document.getElementById(DOCDT.id).value;
        var TAXGRPCD = document.getElementById(TAXGRPCD.id).value;
        var GOCD = document.getElementById(GOCD.id).value;
        var PRCCD = document.getElementById(PRCCD.id).value;
        var ALLMTRLJOBCD = document.getElementById(ALLMTRLJOBCD.id).value;
        var BAR_NO = document.getElementById(BARNO.id).value;
        var MergeLoc = "";
        if (document.getElementById("MergeLoc").checked == true)
        {
            MergeLoc = "Y";
        }
        else
        {
            MergeLoc = "N";
        }
        //sequence MTRLJOBCD/PARTCD/DOCDT/TAXGRPCD/GOCD/PRCCD/ALLMTRLJOBCD
        var Code = MTRLJOBCD + String.fromCharCode(181) + PARTCD + String.fromCharCode(181) + DOCDT + String.fromCharCode(181) + TAXGRPCD + String.fromCharCode(181) + GOCD + String.fromCharCode(181) + PRCCD + String.fromCharCode(181) + ALLMTRLJOBCD + String.fromCharCode(181) + HelpFrom + String.fromCharCode(181) + BAR_NO + String.fromCharCode(181) + MergeLoc;
        if (id == "") {
            $("#" + BARNO.id).val("");
            $("#STYLENO").val("");
            //$("#" + CLASS1NM.id).val("");
        }
        else {
            $.ajax({
                type: 'POST',
                beforesend: $("#WaitingMode").show(),
                url: "@Url.Action("GetBarCodeDetails", "Rep_Bar_History")",
                data: $('form').serialize() + "&val=" + id + "&Code=" + Code,
                success: function (result) {
                    //var MSG = result.indexOf('#helpDIV');
                    var MSG = result.indexOf('#helpDIV');
                    if (MSG >= 0) {
                        ClearAllTextBoxes("STYLENO,BARCODE");
                        if (HelpFrom == "Bar")
                        {
                            $('#SearchFldValue').val("BARCODE");
                        }
                        else {
                            $('#SearchFldValue').val("STYLENO");
                        }
                        $('#helpDIV').html(result);
                        $('#ReferanceFieldID').val("BARCODE/MTRLJOBCD/PARTCD/GOCD/STYLENO");
                        $('#ReferanceColumn').val("0/2/5/8/3");
                        $('#helpDIV_Header').html("Bar Code Details");

                    }
                    else {
                        var MSG = result.indexOf("^^^^^^^^^^^^~~~~~~^^^^^^^^^^");
                        if (MSG >= 0) {
                            $("#WaitingMode").hide();
                            var res = result.split("^^^^^^^^^^^^~~~~~~^^^^^^^^^^");
                            document.getElementById("BARCODE").value = returncolvalue(res[0], "BARNO");
                            document.getElementById("BAR_CODE").value = returncolvalue(res[0], "BARNO");
                            document.getElementById("ITGRPCD").value = returncolvalue(res[0], "ITGRPCD");
                            document.getElementById("ITGRPNM").value = returncolvalue(res[0], "ITGRPNM");
                            document.getElementById("FABITCD").value = returncolvalue(res[0], "FABITCD");
                            document.getElementById("FABITNM").value = returncolvalue(res[0], "FABITNM");
                            document.getElementById("ITCD").value = returncolvalue(res[0], "ITCD");
                            document.getElementById("ITNM").value = returncolvalue(res[0], "ITNM");
                            document.getElementById("DESIGN").value = returncolvalue(res[0], "STYLENO");
                            document.getElementById("UOMCD").value = returncolvalue(res[0], "UOMCD");
                            document.getElementById("SLCD").value = returncolvalue(res[0], "SLCD");
                            document.getElementById("SLNM").value = returncolvalue(res[0], "SLNM");
                            document.getElementById("DISTRICT").value = returncolvalue(res[0], "DISTRICT");
                            document.getElementById("GSTNO").value = returncolvalue(res[0], "GSTNO");
                            document.getElementById("PDESIGN").value = returncolvalue(res[0], "PDESIGN");
                            document.getElementById("COLRCD").value = returncolvalue(res[0], "COLRCD");
                            document.getElementById("COLRNM").value = returncolvalue(res[0], "COLRNM");
                            document.getElementById("SIZECD").value = returncolvalue(res[0], "SIZECD");
                            document.getElementById("SIZENM").value = returncolvalue(res[0], "SIZENM");
                            document.getElementById("MTRLJOBCD").value = returncolvalue(res[0], "MTRLJOBCD");
                            document.getElementById("COMMONUNIQBAR").value = returncolvalue(res[0], "COMMONUNIQBAR");
                            document.getElementById("STYLENO").value = returncolvalue(res[0], "STYLENO");
                            document.getElementById("mtrljobcd").value = returncolvalue(res[0], "mtrljobcd");
                            document.getElementById("mtrljobnm").value = returncolvalue(res[0], "mtrljobnm");

                            if (returncolvalue(res[0], "COMMONUNIQBAR") == "E") {
                                $("#PDESIGN").prop('readonly', false);
                                $("#divPDESIGN").show();
                            }
                            else {
                                $("#PDESIGN").attr('readonly', 'readonly');
                                $("#divPDESIGN").hide();
                            }
                            var TINQTY = returncolvalue(res[0], "TOTALIN");
                            var TOUTQTY = returncolvalue(res[0], "TOTALOUT");
                            if (TINQTY == "") { TINQTY = parseFloat(0); } else { TINQTY = parseFloat(TINQTY) }
                            if (TOUTQTY == "") { TOUTQTY = parseFloat(0); } else { TOUTQTY = parseFloat(TOUTQTY) }
                            document.getElementById("TOTALIN").value = parseFloat(TINQTY).toFixed(2);
                            document.getElementById("TOTALOUT").value = parseFloat(TOUTQTY).toFixed(2);
                            document.getElementById("TOTINOUT").value = (parseFloat(TINQTY) - parseFloat(TOUTQTY)).toFixed(2)
                            $("#partialdivHISTORY").show();
                            $("#partialdivHISTORY").animate({ marginTop: '0px' }, 50);
                            $("#partialdivHISTORY").html(res[1]);
                            $("#partialdivPRICE").show();
                            $("#partialdivPRICE").animate({ marginTop: '0px' }, 50);
                            $("#partialdivPRICE").html(res[2]);
                            $("#MTRLJOBCD").val("");
                            hlpblurval = id;
                            document.getElementById("BarImages").value = returncolvalue(res[0], "BARIMAGE");
                            FillImageModal(returncolvalue(res[0], "BARIMAGEPATH"));

                            $("#" + BARNO.id).val("");
                            $("#STYLENO").val("");
                            if (HelpFrom == "Bar") {
                                $("#BARCODE").focus();
                            }
                            else {
                                $("#STYLENO").focus();
                            }
                        }
                        else {
                            if (HelpFrom == "Bar") {
                                $('#helpDIV').html("");
                                msgInfo("Invalid Bar Code ! Please Enter a Valid Bar Code !!");
                                $("#" + BARNO.id).val("");
                                $("#STYLENO").val("");
                                message_value = BARNO.id;
                            }
                            else {
                                $('#helpDIV').html("");
                                msgInfo("Invalid Design No./Item ! Please Enter a Valid Design No./Item !!");
                                $("#STYLENO").val("");
                                $("#" + BARNO.id).val("");
                                message_value = "STYLENO";
                            }

                        }
                    }
                    $("#WaitingMode").hide();
                },
                error: function (XMLHttpRequest, textStatus, errorThrown) {
                    $("#WaitingMode").hide();
                    msgError(XMLHttpRequest.responseText);
                    $("body span h1").remove(); $("#msgbody_error style").remove();
                }
            });
        }
    }
</script>
<script>
    $(document).on('click', '.arrow-left, .arrow-right', function () {
        var next;
        var circler;
        if ($(this).is('.arrow-left')) {
            next = 'prev';
            circler = ':last';
        } else {     // or if there would be more arrows, use : else if ($(this).is('.arrow-right'))
            next = 'next';
            circler = ':first';
        }
        var nextTarget = $('#div_carousel_inner div.active')[next]('div');
        if (nextTarget.length == 0) {
            nextTarget = $('#div_carousel_inner div' + circler);
        }
        $('#div_carousel_inner div').removeClass('active');
        nextTarget.addClass('active');
    });
    function FillImageModal(BARIMAGEPATH) {
        debugger;
        var actt = ""; $("#div_carousel_inner").html('');
        var arr = BARIMAGEPATH;//$("#BarImages").val();
        arr = arr.split(String.fromCharCode(179));
        $.each(arr, function (index, value) {
            var imgname = (value.split('~')[0]);
            var id = (imgname).split('.')[0];
            var ImageDesc = (value.split('~')[1]);
            var htm = ''; if (index == 0) { actt = "active"; } else { actt = ""; }
            htm += '<div id="' + id + '" class="item ' + actt + '">';
            htm += '    <img src="' + imgname + '"  alt="Img Not Found" style="width:100%;height:300px;">';
            htm += '    <span class="carousel-caption">';
            htm += '    <p> ' + ImageDesc + ' </p>';
            htm += '    </span>';
            htm += '</div>';
            $("#div_carousel_inner").append(htm);
        });
    }
</script>
<script>
    function GetAllMtrljobcode() {
        var DefaultAction = $("#DefaultAction").val();
        if (DefaultAction == "V") return true;
        var GridRowMain = $("#exampleMTRL > tbody > tr").length;
        var allcode = "";
        var mtrljobcd = $("#MTRLJOBCD").val();
        if (mtrljobcd != "") {
            allcode += "'" + mtrljobcd + "'";
        }
        for (j = 0; j <= GridRowMain - 1; j++) {
            if (document.getElementById("MaterialJobChk_" + j).checked == true) {
                if (allcode == "") {
                    allcode += "'" + $("#MaterialJobCode_" + j).val() + "'";
                }
                else {
                    allcode += ",'" + $("#MaterialJobCode_" + j).val() + "'";
                }
            }
        }
        $("#ALLMTRLJOBCD").val(allcode);

    }
</script>
<script>
    function Update_PriceData() {
        debugger;
        $.ajax({
            type: 'post',
            beforesend: $("#WaitingMode").show(),
            url: "@Url.Action("Update_Price", "Rep_Bar_History")",
            data: $('form').serialize(),
            success: function (result) {
                $("#WaitingMode").hide();
                if (result == "1") {
                    msgSuccess1("Update Successfully !");
                }
                else {
                    msgInfo(result);
                }
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                $("#WaitingMode").hide();
                msgError(XMLHttpRequest.responseText);
                $("body span h1").remove(); $("#msgbody_error style").remove();
            }
        });
    }
</script>
<script>
    function Barcodeprinting() {
        debugger;
        var AUTONO = "";
        var DOCDT = $("#DOCDT").val();
        var BARNO = $("#BAR_CODE").val();
        window.open("@Url.Action("Rep_BarcodePrint", "Rep_BarcodePrint")?US=" + '@Model.UNQSNO_ENCRYPTED' + "&autono=" + AUTONO + "&docdt=" + DOCDT + "&barno=" + BARNO, "_blank")
    }
</script>
<script>
    function BarcodeOpen() {
        $('.PopUp_Backround').show();
        $("#popupAddNewBarno").show();
    }
    function BarcodeClose() {
        ClearAllTextBoxes("BARNO_NEW,EFFDT_NEW,CPRATE_NEW,WPRATE_NEW,RPRATE_NEW,ITCD_NEW,ITSTYLE_NEW,PDESIGN_NEW");
        $("#popupAddNewBarno").hide();
        $('.PopUp_Backround').fadeOut();
    }
    function SaveBarno() {
        debugger;
        if (!emptyFieldCheck("Enter Bar No", "BARNO_NEW")) { return false; }
        if (!emptyFieldCheck("Select Item", "ITCD_NEW")) { return false; }
        //if (!emptyFieldCheck("Enter Party Design", "PDESIGN_NEW")) { return false; }
        if (retFloat($("#CPRATE_NEW").val()) != 0 || retFloat($("#WPRATE_NEW").val()) != 0 || retFloat($("#RPRATE_NEW").val()) != 0) {
            if (!emptyFieldCheck("Select Effective Date", "EFFDT_NEW")) { return false; }
        }
        //if (!emptyFieldCheck("Enter CP", "CPRATE_NEW")) { return false; }
        //if (!emptyFieldCheck("Enter WP", "WPRATE_NEW")) { return false; }
        //if (!emptyFieldCheck("Enter RP", "RPRATE_NEW")) { return false; }
        $.ajax({
            type: 'post',
            beforesend: $("#WaitingMode").show(),
            url: "@Url.Action("SaveNewBarno", "Rep_Bar_History")",
            data: $('form').serialize(),
            success: function (result) {
                $("#WaitingMode").hide();
                if (result == "1") {
                    msgSuccess1("Save Successfully !");
                }
                else {
                    msgInfo(result);
                }
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                $("#WaitingMode").hide();
                msgError(XMLHttpRequest.responseText);
                $("body span h1").remove(); $("#msgbody_error style").remove();
            }
        });
    }
</script>
<script>
    function Update_PDesignData() {
        debugger;
        $.ajax({
            type: 'post',
            beforesend: $("#WaitingMode").show(),
            url: "@Url.Action("Update_PDesign", "Rep_Bar_History")",
            data: $('form').serialize(),
            success: function (result) {
                $("#WaitingMode").hide();
                if (result == "1") {
                    msgSuccess1("Update Successfully !");
                }
                else {
                    msgInfo(result);
                }
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                $("#WaitingMode").hide();
                msgError(XMLHttpRequest.responseText);
                $("body span h1").remove(); $("#msgbody_error style").remove();
            }
        });
    }
</script>
<script>
    function PriceOpen() {
        if (!emptyFieldCheck("Please enter Bar Code", "BAR_CODE")) { return false; }
        $('.PopUp_Backround').show();
        $("#popupAddNewPrice").show();
    }
    function PriceClose() {
        ClearAllTextBoxes("P_EFFDT_NEW,P_CPRATE_NEW,P_WPRATE_NEW,P_RPRATE_NEW");
        $("#popupAddNewPrice").hide();
        $('.PopUp_Backround').fadeOut();
    }
    function SavePrice() {
        debugger;
        if (retFloat($("#P_CPRATE_NEW").val()) == 0 && retFloat($("#P_WPRATE_NEW").val()) == 0 && retFloat($("#P_RPRATE_NEW").val()) == 0) {
            if (!emptyFieldCheck("Please enter any rate", "P_CPRATE_NEW")) { return false; }
        }
        if (retFloat($("#P_CPRATE_NEW").val()) != 0 || retFloat($("#P_WPRATE_NEW").val()) != 0 || retFloat($("#P_RPRATE_NEW").val()) != 0) {
            if (!emptyFieldCheck("Select Effective Date", "P_EFFDT_NEW")) { return false; }
        }
        $.ajax({
            type: 'post',
            beforesend: $("#WaitingMode").show(),
            url: "@Url.Action("SaveNewPrice", "Rep_Bar_History")",
            data: $('form').serialize(),
            success: function (result) {
                $("#WaitingMode").hide();
                if (result == "1") {
                    msgSuccess1("Save Successfully !");
                }
                else {
                    msgInfo(result);
                }
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                $("#WaitingMode").hide();
                msgError(XMLHttpRequest.responseText);
                $("body span h1").remove(); $("#msgbody_error style").remove();
            }
        });
    }
</script>
@using (Html.BeginForm("Rep_Bar_History", "Rep_Bar_History", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.ValidationSummary(true)
    <div class="row" style="margin-top: 2px;">
        <div class="col-lg-10">
            <div class="row" style="margin-top: 5px; font:bold;">
                <div class="col-md-1">
                    <div class="editor-label" style="margin-top: 6px;">
                        @Html.Label("", "Bar Code")
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.BARCODE, new { htmlAttributes = new { @class = "form-control textbox_image", id = "BARCODE", onkeydown = "GetHelpBlur('" + @Url.Action("GetBarCodeDetails", "Rep_Bar_History") + "','Bar Code Details','BARCODE','BARCODE=BARNO=0/MTRLJOBCD=MTRLJOBCD=2/PARTCD=PARTCD=5/GOCD=GOCD=8/STYLENO=STYLENO=3','MTRLJOBCD/PARTCD/DOCDT/TAXGRPCD/GOCD/PRCCD/ALLMTRLJOBCD/barhelpcap')", onblur = "SelectBARCODEDetail(this.value,BARCODE,MTRLJOBCD,PARTCD,DOCDT,TAXGRPCD,GOCD,PRCCD,ALLMTRLJOBCD,'Bar');", @placeholder = "Bar Code", maxlength = 25 } })
                        <img src="~/Image/search.png" width="20px" height="20px" class="Help_image_button" title="Help" onmousedown="GetHelpBlur('@Url.Action("GetBarCodeDetails", "Rep_Bar_History")','Bar Code Details','BARCODE','BARCODE=BARNO=0/MTRLJOBCD=MTRLJOBCD=2/PARTCD=PARTCD=5/GOCD=GOCD=8/STYLENO=STYLENO=3','MTRLJOBCD/PARTCD/DOCDT/TAXGRPCD/GOCD/PRCCD/ALLMTRLJOBCD/barhelpcap')" />
                        @Html.HiddenFor(model => model.MTRLJOBCD, new { id = "MTRLJOBCD" })
                        @Html.HiddenFor(model => model.GOCD, new { id = "GOCD" })
                        @Html.HiddenFor(model => model.PARTCD, new { id = "PARTCD" })
                        @Html.HiddenFor(model => model.DOCDT, new { id = "DOCDT" })
                        @Html.HiddenFor(model => model.PRCCD, new { id = "PRCCD" })
                        @Html.HiddenFor(model => model.TAXGRPCD, new { id = "TAXGRPCD" })
                        @Html.HiddenFor(model => model.COMMONUNIQBAR, new { id = "COMMONUNIQBAR" })
                        <input type="hidden" id="barhelpcap" value="Bar" />

                    </div>
                </div>
                <div class="col-md-5" style="width:auto;">
                    <div class="editor-label" style="margin-top: 6px;">
                        @Html.Label("", "Design No./Item")
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.STYLENO, new { htmlAttributes = new { @class = "form-control textbox_image", id = "STYLENO", onkeydown = "GetHelpBlur('" + @Url.Action("GetBarCodeDetails", "Rep_Bar_History") + "','Bar Code Details','STYLENO','STYLENO=STYLENO=3/BARCODE=BARNO=0/MTRLJOBCD=MTRLJOBCD=2/PARTCD=PARTCD=5/GOCD=GOCD=8','MTRLJOBCD/PARTCD/DOCDT/TAXGRPCD/GOCD/PRCCD/ALLMTRLJOBCD/stylehelpcap')", onblur = "SelectBARCODEDetail(this.value,BARCODE,MTRLJOBCD,PARTCD,DOCDT,TAXGRPCD,GOCD,PRCCD,ALLMTRLJOBCD,'styleno');", @placeholder = "Design No./Item", maxlength = 25 } })
                        <img src="~/Image/search.png" width="20px" height="20px" class="Help_image_button" title="Help" onmousedown="GetHelpBlur('@Url.Action("GetBarCodeDetails", "Rep_Bar_History")','Bar Code Details','STYLENO','STYLENO=STYLENO=3/BARCODE=BARNO=0/MTRLJOBCD=MTRLJOBCD=2/PARTCD=PARTCD=5/GOCD=GOCD=8','MTRLJOBCD/PARTCD/DOCDT/TAXGRPCD/GOCD/PRCCD/ALLMTRLJOBCD/stylehelpcap')" />
                        <input type="hidden" id="stylehelpcap" value="styleno" />
                    </div>
                </div>
                <div class="col-md-5" style="width:auto;">
                    <div class="editor-label" style="margin-top: 6px;">
                        @Html.Label("", "Merge All Location")
                    </div>
                </div>
                <div class="col-md-8" style="width:auto;">
                    <div class="editor-field" style="display: inline-block;margin-top: 6px;">
                        @Html.CheckBoxFor(model => model.MergeLoc, new { id = "MergeLoc", @TabIndex = -1 })
                    </div>
                </div>
                <div class="col-md-6" style="width:auto;">
                    <input type="button" class="btn btn-primary" style="margin-top: 2px;padding: 2px 7px 1px 7px;" id="Print_Barcode" value="Print Barcode" title="Click to Print Barcode" onclick="Barcodeprinting()" />
                </div>
                <div class="col-md-6" style="width:auto;">
                    <input type="button" class="btn btn-success" style="margin-top: 2px;padding: 2px 7px 1px 7px;" id="Add_Barcode" value="Add Barcode" title="Click to Add Barcode" onclick="BarcodeOpen()" />
                </div>
                <div class="col-md-6" style="width:auto;">
                    <input type="button" class="btn btn-success" style="margin-top: 2px;padding: 2px 7px 1px 7px;" id="Add_Barcode" value="Add Price" title="Click to Add Price" onclick="PriceOpen()" />
                </div>

            </div>

            <div class="row">
                <div class="col-md-1">
                    <div class="editor-field" style="margin-top: 6px;">
                        @Html.Label("", "Bar Code")
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.BAR_CODE, new { htmlAttributes = new { @class = "form-control", id = "BAR_CODE", @placeholder = "Bar Code", @readonly = "readonly", @TabIndex = -1 } })

                    </div>
                </div>
                <div class="col-md-1">
                    <div class="editor-field" style="margin-top: 6px;">
                        @Html.Label("", "Group")
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.ITGRPCD, new { htmlAttributes = new { @class = "form-control", id = "ITGRPCD", @placeholder = "ITGRPCD", @readonly = "readonly", @TabIndex = -1 } })

                    </div>
                </div>
                <div class="col-md-7">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.ITGRPNM, new { htmlAttributes = new { @class = "form-control", id = "ITGRPNM", @placeholder = "ITGRPNM", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
                <div class="col-md-1">
                    <div class="editor-field" style="margin-top: 6px;">
                        @Html.Label("", "Fabric")
                    </div>
                </div>
                <div class="col-md-5" style="width:auto;">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.FABITCD, new { htmlAttributes = new { @class = "form-control", id = "FABITCD", @placeholder = "FABITCD", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
                <div class="col-md-7">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.FABITNM, new { htmlAttributes = new { @class = "form-control", id = "FABITNM", @placeholder = "FABITNM", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>


            </div>
            <div class="row">
                <div class="col-md-1">
                    <div class="editor-field" style="margin-top: 6px;">
                        @Html.Label("", "Item")
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.ITCD, new { htmlAttributes = new { @class = "form-control", id = "ITCD", @placeholder = "ITCD", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
                <div class="col-md-7">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.ITNM, new { htmlAttributes = new { @class = "form-control", id = "ITNM", @placeholder = "ITNM", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
                <div class="col-md-1" >
                    <div class="editor-field" style="font-weight: bold;margin-top: 6px;">
                        @Html.Label("", "Design", htmlAttributes: new { style = "font-weight:bold;" })
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.DESIGN, new { htmlAttributes = new { @class = "form-control", id = "DESIGN", @style = "font-weight:bold", @placeholder = "DESIGN", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
                <div class="col-md-1" style="width:auto;">
                    <div class="editor-field" style="margin-top: 6px;">
                        @Html.Label("", "Uom ")
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.UOMCD, new { htmlAttributes = new { @class = "form-control", id = "UOMCD", @placeholder = "UOMCD", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
                <div class="col-md-1" style="width:auto;">
                    <div class="editor-field" style="margin-top: 6px;">
                        @Html.Label("", "Metirial")
                    </div>
                </div>
                <div class="col-md-5" style="width:auto;">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.mtrljobcd, new { htmlAttributes = new { @class = "form-control", id = "mtrljobcd", @placeholder = "mtrljobcd", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
                <div class="col-md-7">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.mtrljobnm, new { htmlAttributes = new { @class = "form-control", id = "mtrljobnm", @placeholder = "mtrljobnm", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-1">
                    <div class="editor-field" style="margin-top: 6px;">
                        @Html.Label("", "Party")
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.SLCD, new { htmlAttributes = new { @class = "form-control", id = "SLCD", @placeholder = "SLCD", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
                <div class="col-md-7">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.SLNM, new { htmlAttributes = new { @class = "form-control", id = "SLNM", @placeholder = "SLNM", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
                <div class="col-md-5" style="width:auto;">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.DISTRICT, new { htmlAttributes = new { @class = "form-control", id = "DISTRICT", @placeholder = "DISTRICT", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.GSTNO, new { htmlAttributes = new { @class = "form-control", id = "GSTNO", @placeholder = "GSTNO", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
                <div class="col-md-1" style="width:auto;">
                    <div class="editor-field" style="margin-top: 6px;">
                        @Html.Label("", "P/Design")
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.PDESIGN, new { htmlAttributes = new { @class = "form-control", id = "PDESIGN", @placeholder = "PDESIGN", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
                <div id="divPDESIGN" class="col-md-1" style="width:auto;display:none;">
                    <input type="button" class="btn-sm btn-info" style="padding: 0px 7px 0px 7px;" id="Update_Price" value="Update P/Design" title="Click to Update P/Design" onclick="Update_PDesignData()" />
                </div>
            </div>
            <div class="row">
                <div class="col-md-1">
                    <div class="editor-field" style="margin-top: 6px;">
                        @Html.Label("", "Color")
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.COLRCD, new { htmlAttributes = new { @class = "form-control", id = "COLRCD", @placeholder = "COLRCD", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
                <div class="col-md-7">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.COLRNM, new { htmlAttributes = new { @class = "form-control", id = "COLRNM", @placeholder = "COLRNM", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
                <div class="col-md-1">
                    <div class="editor-field" style="margin-top: 6px;">
                        @Html.Label("", "Size")
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.SIZECD, new { htmlAttributes = new { @class = "form-control", id = "SIZECD", @placeholder = "SIZECD", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
                <div class="col-md-7">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.SIZENM, new { htmlAttributes = new { @class = "form-control", id = "SIZENM", @placeholder = "SIZENM", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
                <div class="col-md-1" style="margin-top: 6px;width:auto;">
                    <div class="editor-field">
                        @Html.Label("", "Balance")
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.TOTALIN, new { htmlAttributes = new { @class = "form-control", id = "TOTALIN", @placeholder = "TOTALIN", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.TOTALOUT, new { htmlAttributes = new { @class = "form-control", id = "TOTALOUT", @placeholder = "TOTALOUT", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
                <div class="col-md-3" style="font:bold;">
                    <div class="editor-field">
                        @Html.EditorFor(model => model.TOTINOUT, new { htmlAttributes = new { @class = "form-control", id = "TOTINOUT", @placeholder = "TOTINOUT", @readonly = "readonly", @TabIndex = -1 } })
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-2">
            <div class="col-lg-8" id="divmtrljobcd" style="float:right;margin-top:5px">
                <div class="editor-field" style="width:auto;height:112px; overflow:auto;border:5px groove;overflow-x: hidden;">
                    <table id="exampleMTRL" border="1" style="width: auto;">
                        @for (int i = 0; i < Model.DropDown_list_MTRLJOBCD.Count; i++)
                        {
                            <tr>
                                <td align="center">
                                    @Html.CheckBoxFor(model => model.DropDown_list_MTRLJOBCD[i].Checked, new { id = "MaterialJobChk_" + i, onclick = "GetAllMtrljobcode();" })
                                </td>
                                <td align="center">
                                    @{ string STRC = Model.DropDown_list_MTRLJOBCD[i].MTRLJOBCD.ToString();}
                                    @Html.DisplayFor(model => STRC)
                                    @Html.HiddenFor(model => model.DropDown_list_MTRLJOBCD[i].MTRLJOBCD, new { id = "MaterialJobCode_" + i })
                                </td>
                                <td align="center">
                                    @{ string STRC1 = Model.DropDown_list_MTRLJOBCD[i].MTRLJOBNM.ToString();}
                                    @Html.DisplayFor(model => STRC1)
                                </td>
                            </tr>
                                        }
                    </table>
                </div>
                @Html.HiddenFor(model => model.ALLMTRLJOBCD, new { id = "ALLMTRLJOBCD" })
            </div>
        </div>
    </div>
        <div class="row" style="margin-top:10PX">
            <div class="col-lg-3">
                <div class="row">
                    <div>
                        <div id="partialdivPRICE" style="margin-top: 11px;background-color:#c4b9b9;border:5px groove">
                            @Html.Partial("_REP_BAR_HISTORY_PRICE")
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2" style="width:auto;">
                        <div class="editor-label" style="margin-top:5px">
                            @Html.Label("", "Price Code")
                        </div>
                    </div>
                    <div class="col-md-6">
                        @(new HtmlString(Model.listprccd))
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <input class="btn-xs btn-info" type="submit" name="submitbutton" formmethod="post" value="Download Price Details Excel" formtarget="_blank" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-3" style="width:auto;">
                        <div class="row">
                            <div class="editor-label" style="margin-top: 10px;text-align:center;color:#428bca;transform: translate(0%, 0%);z-index: 1100;">
                                @Html.Label("", "BarCode Image")
                            </div>
                        </div>
                        @Html.HiddenFor(model => model.BarImages, new { id = "BarImages" })
                        <div class="row" style="text-align:-webkit-center;width: 260px;height:300px">
                            <div id="myCarousel" class="carousel" data-ride="carousel">
                                <div class="carousel-inner" id="div_carousel_inner">
                                    <div class="item active">
                                        <img src="" alt="Los Angeles" style="width:100%;">
                                    </div>
                                    <div class="item">
                                        <img src="" alt="Chicago" style="width:100%;">
                                    </div>
                                </div>
                                <!-- Left and right controls -->
                                <a class="left  carousel-control arrow-left" id="prev">
                                    <span class="glyphicon glyphicon-chevron-left"></span>
                                </a>
                                <a class="right  carousel-control arrow-right" id="next">
                                    <span class="glyphicon glyphicon-chevron-right"></span>
                                </a>
                            </div>
                        </div>

                    </div>
                    <div class="PopUp_Backround">
                        <div id="popupAddNewBarno" class="row" style="margin-top: 11px;top:15%;left:25%;right:8%;position:absolute;display:none;">
                            @Html.Partial("_Rep_Bar_History_AddNewBarno")
                        </div>
                        <div id="popupAddNewPrice" class="row" style="margin-top: 11px;top:15%;left:25%;right:8%;position:absolute;display:none;">
                            @Html.Partial("_Rep_Bar_History_AddNewPrice")
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-9">
                <div id="partialdivHISTORY" style="margin-top: 11px;background-color:#c4b9b9;border:5px groove;">
                    @*@Html.Partial("_REP_BAR_HISTORY")*@
                </div>
            </div>
        </div>
        @*<div class="row">

                    @Html.HiddenFor(model => model.BarImages)
                    <div class="col-md-6"><div class="editor-label" style="margin-top: 6px;">@Html.Label("", "Upload Product Image") </div></div>
                                <div class="col-lg-2"><input type="text" id="ImageDesc" value="" class="form-control" placeholder="Description" /></div>
                                <div class="col-lg-3"><input type="file" class="form-control" name="Imageupload" accept="image/*" onchange="fileTypeCheck(this);" /></div>
                                <div class="col-lg-1"><input type="button" value="Upload" class="btn-sm" onclick="UploadBarnoImage();"></div>

            </div>*@
        
        @*<div class="row" style="margin-top:20PX">
                <div class="col-lg-6">
                    <input class="btn btn-primary" style="padding: 5px;" type="submit" name="submitbutton" formmethod="post" value="Show Report" formtarget="_blank" />

                </div>
            </div>*@
        @*<div class="row" style="background-color:#c4b9b9;width:100%">
            <div id="PartialdivEWBILL">*@
        @*@Html.Partial("_Rep_Bar_History")*@
        @*</div>
            </div>*@
        <div class="container">
            <div id="helpDIV">

            </div>
        </div>       
                                        }
